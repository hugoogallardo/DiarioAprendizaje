<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Nombre del Autor | email@example.com">
    <link rel="icon" type="image/x-icon" href="assets/img/evg.jpg">
    <title>Mi Diario de Aprendizaje</title>
    <!-- Hojas de estilo CSS -->
   
	<link rel="stylesheet" href="assets/css/estilos.css">

</head>
<body>
    <header>
        <div class="logo">
            <img src="assets/img/logo.jpg" alt="Logo del Diario">
        </div>
        <nav>
            <ul class="nav-links">
                <li><a href="unidad1.html">Tema 1</a></li>
				<li><a href="unidad2.html">Tema 2</a></li>			
            </ul>
        </nav>
        <a href="perfil.html" class="btn"><button>DEAP</button></a>
    </header>
	<style>
        ul {
            font-size: 0.9em; /* Ajusta el tamaño de las viñetas, 0.9em es un poco más pequeño que el tamaño normal */
            line-height: 1.4em; /* Da un poco de espacio entre las líneas para mejor legibilidad */
        }
        li {
            margin-bottom: 8px; /* Espacio entre cada viñeta para que no se vean muy pegadas */
        }
		details summary {
			font-weight: normal; /* Quitar la negrita del summary */
		}

		details p {
			font-weight: normal; /* Quitar la negrita del texto dentro del p */
		}
		ul, ul li {
            font-weight: normal;
        }
		details summary {
			font-weight: bold;
			cursor: pointer;
			color: #0044cc;
		}

		details p, details ul {
			margin-left: 15px;
			font-size: 0.95em;
			line-height: 1.5em;
		}

		
    </style>
    <main>
        <section class="intro">
            <div class="intro-content">
                <figure>
                    <img src="assets/img/servicio.jpg" alt="Imagen de introducción">
                   
                </figure>
                <div>
                    <p>Diario de Aprendizaje<span class="highlight"> Hugo Sánchez Gallardo</span>, esto nos va a servir para asimilar conceptos y en caso de dudas o tener problemas esto nos facilite el trabajo.<br>
					En el <span class="highlight">SEGUNDO</span> tema trataremos los <span class="highlight">servicios WEB</span>, explicaremos un poco de qué trata, algunas funciones y como sería su utilización.</p>
                </div>
            </div>
        </section>

        <hr>

        <section id="temario1" class="temario">
            <h1>Tema 2 Servicios WEB</h1>
            <article>
                <details>
                    <summary>Protocolo http/https</summary>
                    <p>
						Nos consta de dos partes: El Cliente Web y el Servidor Web:<br>
						<img src="assets/img/cs.jpg" alt="Cliente y Servicio Web"><br>
						<h2>El Cliente:</h2><br>
							<ul>
								<li>-Solicita e interpreta el contenido.</li>
								<li>-Renderiza en la pantalla el resultado.</li>
								<li>-Interactúa con el usuario.</li><br>
							</ul>
						<h2>El Servidor:</h2><br>
							<ul>
								<li>-Sirve contendio estático.</li>
								<li>-Ejecuta programas para generar contenido dinámico (PHP).</li>
								<li>-Autentica usuarios.</li>
								<li>-Certificados SSL/TLS.</li>
								<li>-Mediante extensiones genera contenido dinámico (JavaScrip, Ajax).</li><br><br>
							</ul>												
					</p>
                </details>
                <details>
                    <summary>El navegador - Cliente Web</summary> <br>                  
					<p>
						<b>-Utilizando el protocolo HTTP</b> descarga los documentos en los diferentes
						formatos de la web (HTML, CSS, Javascript) así como los recursos asociados<br><br>
						
						<b>-Puede negociar</b> algunas características particulares. Por ejemplo, si se
						soporta compresión o no.<br><br>
						
						<b>-Interpreta la información </b>en los documentos y <b>renderiza</b> el documento.<br><br>
						
						-Permite recoger información del usuario y enviarla al servidor como parámetros
						en una petición web <b>GET</b> o <b>POST.<br><br>
						
						<b>-Gestiona las cookies</b> que han sido enviadas por los servidores.<br>
						<center>
							<img src="assets/img/navegadores.jpg" alt="Navegadores">
						</center>						
					</p>              
				</details>
				
                <details>
                    <summary>El Servidor Web</summary>
                    <p>
						<ul>
							<li>El servidor web, soporta el protocolo HTTP / HTTPS.</li>
						
						Atiende a las peticiones del cliente.
						Autenticación de Usuarios.
						SSL/ TLS
						De forma nativa, o mediante módulos, permite ejecutar aplicaciones de diferentes formas
						CGI : Common Gateway Interface
						PHP
						Python
						Java

						Puede haber módulos que permitan de forma transparente alterar el contenido
						para optimizarlo o con otros fines.
						HTML, Javascript, AJAX						
					</P>
                </details>
				<details>
                    <summary>Protocolo http</summary>
                    <p>
						Orientado a petición / respuesta (Request / Response)<br>
						-Soporta los métodos : <b>GET, POST,</b> HEAD, PUT, DELETE, CONNECT,
						OPTIONS, TRACE, PATCH<br>
						-Las peticiones y respuestas transportan información adicional en los
						<b>encabezados HTTP.</b><br>
						-Cada petición retorna un código de estado. El mensaje suele ser
						personalizable.<br>
						-Cada petición podría ir en una conexión independiente pero actualmente se
						suele utilizar una única conexión para varias peticiones a no ser que se indique
						lo contrario. Esto ahorra recursos del servidor.<br>
						-Las cookies son un mecanismo para la gestión de estado en el protocolo
						HTTP (RFC2109)<br><br>
						<center>Protocolo HTTP – Modelo Vista Controlador</center>
						<center>
							<img src="assets/img/mvc.jpg" alt="Navegadores">
						</center>
						<center>Protocolo HTTP – Solicitud GET y POST</center><br>
						<center>
							<img src="assets/img/GETPOST.jpg" alt="Navegadores">
						</center>
						<center>HTTP VS HTTPS</center><br>
						<center>
							<img src="assets/img/http.jpg" alt="Navegadores"><br>
						</center>
						<center>CERTIFICADO SSL / TLS</center><br>
						<center>
							<img src="assets/img/ssl.jpg" alt="Navegadores">
						</center>
					</p>
                </details>
				<details>
				<summary>Servicios Web – Protocolo DNS</summary>
				<p>
					<b>Protocolo DNS</b><br><br>

					-<b>DNS</b> (Domain Name System) protocolo capa aplicación:<br>
					-Su función es resolver nombres (dominios) legibles para las personas en identificadores binarios (direcciones IP) legibles para las máquinas<br>
					-El servidor DNS utiliza una base de datos distribuida y jerárquica que almacena información asociada a nombres de dominio.<br>
					-Utiliza el puerto UDP 53.<br><br>

					-<b>.org</b> → dominio de nivel superior (TLD)<br>
					-<b>daw</b> → subdominio, dominio de segundo nivel.<br>
					-<b>deap</b> → subdominio, dominio de tercer nivel.<br>
					-<b>es.deap.daw.org</b> → hostname, nodo de nombre completo (FQDN)<br><br>

					Más información sobre formato de nombres de host y otros datos.<br>
			

					Protocolo DNS<br><br>

					-Normalmente se utiliza servidores DNS de los ISPs.<br><br>

					-Funcionamiento:<br>
					-Los servidores DNS que reciben la petición, buscan en primer lugar si disponen de la respuesta en la memoria caché.<br>
					-Si lo encuentran, sirven la respuesta.<br>
					-En caso contrario, inician la búsqueda en otros DNS.<br>
					-Una vez encontrada la respuesta, el servidor DNS guardará el resultado en su memoria caché para futuros usos y devuelve el resultado.<br><br>

					-<b>Reenviadores:</b> consultas a nombres DNS externos a servidores DNS normalmente fuera de la red.<br><br>
					<center>
						<img src="assets/img/dns.jpg" alt="Navegadores">
					</center>
				</p>
				</details>													
				<details>
                    <summary>Servidor DNS</summary>
                    <p>
						-<b>La resolución directa</b>, permite traducir un nombre a una dirección IP

						-<b>La resolución inversa</b>, mediante la definición de registros PTR permite obtener

						el nombre que corresponde con una dirección IP. Se basa en el dominio in-
						addr.arpa. Se van añadiendo los diferentes números en la IP en sentido inverso.
					<center>
						<img src="assets/img/dei.jpg" alt="Navegadores">
					</center>
					<h2>El campo TTL</h2>
						<p>
							-TTL --> Time To Live.<br>

							-Define el tiempo que debe vivir ese registro en las memorias caché de los
							servidores antes de que se vuelvan a solicitar.<br>

							-Todos los registros de la caché DNS tienen este campo.<br>

							-Guarda una relación directa con el tiempo que tardan en propagarse los
							cambios.
						</p>
					
					</P>													
                </details>
				<details>
                    <summary>Servidor Web Apache</summary>
                    <p>
						<h2>Características y Ventajas Apache</h2><br>
							<ul>
								<li>-Servidor web HTTP de código abierto.</li>
								<li>-Se desarrolla dentro del proyecto HTTP Server (httpd) de la Apache Software Fundation</li>
								<li>-Implementa el protocolo HTTP/1.1.</li>
								<li>-Modular.</li>
								<li>-Multi-plataforma (Windows, Linux, MacOS).</li>
								<li>-Muy estable.</li>
								<li>-Tradicionalmente solución más popular (soporte).</li><br><br>
							</ul>
						<h2>Arquitectura Servidor Web Apche</h2><br>
						<center>
							<img src="assets/img/apache.jpg" alt="Navegadores">
						</center>
						<center>
							<img src="assets/img/contexto.jpg" alt="Navegadores">
						</center>
	
					</P>													
                </details>
				<details>
					<summary>Instalación Servidor Apache</summary>
					<p>
						<h2>Gestión del Servicio Apache</h2>
						<p>
							<code>service apache2 [start|stop|restart|reload|status]</code>
						</p>
						<ul>
							<li><b>start</b> → Iniciar el servicio Apache2.</li>
							<li><b>stop</b> → Parar el servicio Apache2.</li>
							<li><b>restart</b> → Reiniciar el servicio Apache2.</li>
							<li><b>reload</b> → Reiniciar el servicio Apache2 sin matar las conexiones activas.</li>
							<li><b>status</b> → Mostrar el estado del servicio Apache2.</li>
						</ul>

						<h2>Estructura del Servidor Web Apache</h2>
						<ul>
							<li><b>Contenido:</b> Aplicaciones web del servidor Apache en <code>/var/www</code>
								<ul>
									<li>Ruta virtual host / site por defecto: <code>/var/www/html</code></li>
								</ul>
							</li>
							<li><b>Configuración:</b> Del servidor web Apache en <code>/etc/apache2</code>
								<ul>
									<li>Módulos del servidor web.</li>
									<li>Ficheros de configuración (Apache, Virtual Host).</li>
								</ul>
							</li>
							<li><b>Registro de ficheros de actividad:</b> (Servidor, Virtual Host): <code>/var/log/apache2</code></li>
						</ul>

						<h2>Estructura / Tipo de Directorios</h2>
						<ul>
							<li><b>Directorio de Contenidos:</b>
								<ul>
									<li><b>/var/www</b> → Ruta por defecto para alojamiento web (htdocs).</li>
									<li><b>/var/www/midominio</b> → Ruta para los host virtuales.</li>
									<li><b>/var/www/html</b> → Ruta del virtual host / site por defecto de Apache.</li>
								</ul>
							</li>
							<li><b>Directorios de Configuración:</b>
								<ul>
									<li><b>/etc/apache2</b> → Directorio por defecto de los archivos de configuración.</li>
									<li><b>/etc/apache2/apache2.conf</b> → Configuración principal global de Apache.</li>
									<li><b>/etc/apache2/ports.conf</b> → Puertos por los que Apache escucha (por defecto, 80 y 443 si SSL está habilitado).</li>
									<li><b>/etc/apache2/sites-available</b> → Archivos de configuración de los Virtual Hosts. No son usados si no están vinculados a <code>sites-enabled</code>.</li>
									<li><b>/etc/apache2/sites-enabled</b> → Virtual Hosts habilitados por el servidor web.</li>
									<li><b>/etc/apache2/conf-available</b> y <b>/etc/apache2/conf-enabled</b> → Archivos de configuración que no pertenecen a ningún Virtual Host.</li>
									<li><b>/etc/apache2/mods-available</b> y <b>/etc/apache2/mods-enabled</b> → Contienen los módulos disponibles y habilitados para su uso.</li>
									<li>Archivos <code>*.load</code> → Archivos de carga específicos de algún módulo.</li>
									<li>Archivos <code>*.conf</code> → Archivos de configuración de estos módulos.</li>
								</ul>
							</li>
						</ul>

						<h2>Archivos de Log</h2>
						<ul>
							<li><b>/var/log/apache2/access.log</b> → Log que registra todas las peticiones hechas al servidor web.</li>
							<li><b>/var/log/apache2/error.log</b> → Log que registra todos los errores producidos en el servidor web.</li>
						</ul>
					</p>
				</details>
				<details>
					<summary>Directivas Básicas</summary>
					<p>
						<b>Ubicación:</b> /etc/apache2/apache2.conf<br>
						-Contiene la configuración y directivas globales del servidor web Apache.<br>
						-Aplicará a todas las webs del servidor, siempre y cuando esta directiva no se repita en contextos inferiores (Virtual Host).<br>
						<b>Variables de Entorno Servidor Apache2:</b> /etc/apache2/envvars<br>
						-Archivo Variables de Entorno<br>
						-Ubicado en /etc/apache2/envvars<br>
						-Valores recogidos para su uso centralizado del servidor Apache2<br>
						-Ejemplo de Variables de Entorno:<br>
						-APACHE_RUN_USER<br>
						-APACHE_RUN_GROUP<br>
						-APACHE_RUN_DIR<br>
						-APACHE_LOCK_DIR<br>
						-APACHE_PID_FILE<br>
						-APACHE_LOG_DIR<br><br>

						<b>DIRECTIVAS BÁSICAS</b><br>
						-ServerName<br>
						-ServerRoot<br>
						-ServerAdmin<br>
						-DocumentRoot<br>
						-PidFile<br>
						-User<br>
						-Group<br><br>
						
						-ErrorLog<br>
						-Listen<br>
						-DirectoryIndex<br>
						-TypesConfig<br>
						-DefaultType<br><br>

						<b># Comentarios en los ficheros de configuración Apache</b><br>

						<b>ServerName:</b> indica el nombre con el que el servidor se conoce a sí mismo. Resolución por DNS.<br>
						ServerName daw27.deap27.net<br><br>

						<b>ServerRoot:</b> indica el directorio en el que se encuentran los ficheros de configuración de Apache.<br>
						ServerRoot /etc/apache2<br><br>

						<b>ServerAdmin:</b> indica el correo electrónico del administrador del servicio en los mensajes de error del servidor.<br>
						ServerAdmin admin@daw27.deap27.net<br><br>

						<b>DocumentRoot:</b> indica el directorio en el que se encuentran los ficheros que Apache servirá a los clientes (páginas HTML, scripts PHP, CGIs, etc.).<br>
						DocumentRoot /var/www/html<br><br>

						<b>PidFile:</b> indica el fichero en el que se guardará el ID del proceso de Apache. Este fichero es el que se lee cuando hay que parar/matar el proceso.<br>
						PidFile /var/run/apache2/apache2.pid<br><br>

						<b>User:</b> indica el usuario con el que se ejecutará Apache. Por defecto:<br>
						User www-data<br><br>

						<b>Group:</b> indica el grupo con el que se ejecutará Apache. Por defecto:<br>
						Group www-data<br><br>

						<b>ErrorLog:</b> establece el fichero de log de errores de Apache (fallos de acceso, intentos de acceso a recursos sin autorización, páginas no encontradas, etc.).<br>
						ErrorLog /var/log/apache2/errorlog.log<br><br>

						<b>Listen:</b> indica la dirección IP y el puerto en el que escuchará Apache. Por defecto escuchará en todas las direcciones IP.<br>
						Listen 80<br>
						Listen 10.3.11.227:80<br><br>

						<b>DirectoryIndex:</b> establece los nombres de ficheros que servirán como índices al acceder a un directorio sin indicar ningún recurso concreto.<br>
						DirectoryIndex index.html index.php<br><br>

						<b>TypesConfig:</b> indica el fichero con la lista de tipos Mime. Los tipos Mime constituyen un estándar que relaciona tipos de ficheros con sus extensiones y le permiten a Apache informar al navegador del tipo de fichero que le está entregando. Así, el navegador decide cómo presentarlo (mostrando una página web, ejecutando un plugin, guardándolo en disco...).<br>
						TypesConfig /etc/mime.types<br><br>

						<b>DefaultType:</b> indica el tipo Mime por defecto para aquellos ficheros cuya extensión no figure en la lista de tipos Mime.<br>
						DefaultType text/plain<br>
					</p>
				</details>
				<details>
					<summary>Directivas de Bloque</summary>
					<p>
						-<b>Directory:</b> las directivas que se incluyan dentro de Directory sólo se aplican a ese directorio, los subdirectorios y los contenidos. Debe indicarse con la ruta absoluta. <b>Módulo asociado:</b> core<br>
						
						<img src="assets/img/abs.jpg"><br>

						-<b>Files:</b> Las directivas que incluya el bloque Files únicamente se aplican a los ficheros indicados. <b>Módulo asociado:</b> core<br>
						<img src="assets/img/dire.jpg" alt="Navegadores"><br>

						-<b>Location:</b> Las directivas del bloque Location se aplican únicamente en el ámbito de la URL indicada en la etiqueta y solicitada por el cliente, y puede ser totalmente distinto al path del directorio. Las opciones especificadas en las directivas <code>&lt;Location&gt;</code> son procesadas después de las opciones especificadas en los bloques <code>&lt;Directory&gt;</code> y pueden sobrescribir cualquier opción establecida en estos bloques, haciéndola nula. <b>Módulo asociado:</b> core<br>
						-NO controlar accesos al directorio, si no al contenido.<br>
						-SetHandler, muy utilizado conjuntamente.<br>
						-Se utiliza ruta absoluta.<br>
						<img src="assets/img/loca.jpg" alt="Navegadores"><br><br>

						<b>SetHandler</b><br>
						-Indica el “manejador” que se utilizará para atender la peticiones a un directorio, a un tipo de ficheros o a una localización.<br>
						-<b>Módulo asociado:</b> core<br>
						Cargados por defecto servidor:<br>
						▪ <b>default-handler</b>: es el handler usado por defecto para tratar contenido estático. (core)<br>
						▪ <b>send-as-is</b>: envía el fichero con cabeceras HTTP tal y como es. (mod_asis)<br>
						▪ <b>cgi-script</b>: trata el fichero como un script CGI. (mod_cgi)<br>
						▪ <b>imap-file</b>: Trata el fichero como un mapa de imágenes. (mod_imap)<br>
						▪ <b>server-info</b>: extrae la información de configuración del servidor. (mod_info)<br>
						▪ <b>server-status</b>: Extrae el informe de estado del servidor. (mod_status)<br>
						▪ <b>type-map</b>: Trata el fichero como una correspondencia de tipos para la negociación de contenidos.<br><br>

						<b>DIRECTIVA DIRECTORY</b><br>
						<code>&lt;Directory /ruta_absoluta&gt;</code><br>
						Options [None, All, Indexes, FollowSymLinks,....]<br>
						AllowOverride [None, All, directive_type]<br>
						Order [allow, deny]<br>
						Allow/Deny from [all, IP, dominio, subred...]<br>
						Require [host, ip, valid-user, all granted, all denied...]<br>
						..................<br>
						<code>&lt;/Directory&gt;</code><br><br>

						<b>OPTIONS</b><br>
						La directiva Options controla características del servidor que están disponibles en un directorio. Valores:<br>
						-<b>None</b>: ninguna funcionalidad adicional.<br>
						-<b>All</b>: todas las opciones activadas (menos Multiviews). Opción por defecto.<br>
						-<b>FollowSymLinks</b>: permite seguir los enlaces simbólicos de un directorio.<br>
						-<b>Indexes</b>: si se produce una petición a una URL que se corresponde con un directorio, y no hay DirectoryIndex, muestra el contenido del directorio.<br>
						-<b>Includes</b>: permite el uso de Server-Side Includes (SSI), del módulo mod_include, añadir contenido generado de manera dinámica a las páginas HTML existentes sin tener que servir una página entera a través de un programa CGI u otras tecnologías.<br>
						<!--#function attribute=value attribute=value ... --> Ej: <!--#echo var="DATE_LOCAL" --> <br><br>

						-<b>Multiviews</b>: permite gestionar múltiples vistas y presentar seleccionando las características más apropiadas al cliente de la solicitud (mod_negotiation). Ficheros (*.var)<br>
						-Content-Encoding<br>
						-Content-Language<br>
						-Content-Length<br>
						-Content-Type<br><br>

						-Otros.....<br><br>

						<b>AllowOverride</b><br>
						Especifica si el servidor tiene en cuenta las directivas de los ficheros .htaccess en detrimento de las directivas previas encontradas. Del mismo modo puede especificar qué grupo de directivas se puede manejar (directive_type).<br>
						<b>Módulo asociado:</b> core<br>
						Sólo se utiliza en las directivas Directory.<br>
						-<b>None</b>: los ficheros .htaccess son ignorados completamente. (OPCIÓN POR DEFECTO)<br>
						-<b>All</b>: cualquier directiva que tenga Context .htaccess puede ser usada en los ficheros .htaccess.<br><br>

						<b>AllowOverride directive_type</b><br>
						-<b>AuthConfig</b>: Permite usar directivas de autenticación (ej: AuthType)<br>
						-<b>FileInfo</b>: Permite usar directivas que controlan los tipos de documento (ej: ErrorDocument)<br>
						-<b>Indexes</b>: Permite el uso de directivas que controlan el indexado de directorios (ej: DirectoryIndex)<br>
						-<b>Limit</b>: Permite el uso de directivas que controlan el acceso al host (ej: Allow)<br>
						-<b>Options</b>: Permite usar directivas que controlan funcionalidades específicas de directorios (ej: Options)<br><br>

						<b>Order</b><br>
						Define el orden con que el servidor tiene en cuenta las restricciones de las directivas allow o deny posteriores, dentro del contexto (directory, .htaccess).<br>
						<b>Módulo asociado:</b> mod_access_compat<br>
						Order allow, deny<br>
						Order deny, allow<br><br>

						<b>Allow / Deny</b><br>
						Permite o deniega el acceso al contexto al que hace referencia (directory, .htaccess)<br>
						<b>Módulo asociado:</b> mod_access_compat<br>
						-Allow/Deny from all: permite o deniega todo el acceso.<br>
						-Otros argumentos:<br>
						-Dominio / Subdominio.<br>
						-Direcciones IP / Rango de IPs<br>
						-Direcciones parciales IP<br>
						-Subred<br><br>

						<b>Require</b><br>
						Permite o deniega el acceso al contexto al que hace referencia (directory, .htaccess) en base a unos criterios.<br>
						<b>Módulos asociados:</b> mod_authz_core mod_authz_user mod_authz_host mod_authz_groupfile<br>
						-Require all granted/denied permite o deniega de manera incondicional.<br>
						-Require user [userid] permite el acceso solo a los usuarios nombrados.<br>
						-Require group [group-name] permite el acceso solo a los usuarios que pertenecen al grupo referenciado.<br>
						-Require valid-user todos los usuarios válidos.<br>
						-Require ip [direcciónip] permite el acceso solo a la ip nombrada<br><br>

						<b>Orden lectura Runtime - Apache</b><br>
						-Los bloques <code>&lt;Directory&gt;</code> se leen primero.<br>
						-Los archivos .htaccess se leen al mismo tiempo que los bloques <code>&lt;Directory&gt;</code>, pero pueden sobrescribir o anular las opciones especificadas en los bloques <code>&lt;Directory&gt;</code> si esto es permitido a través de la opción AllowOverride.<br>
						-A continuación se leen las directivas <code>&lt;Files&gt;</code>.<br>
						-Finalmente, se leen las directivas <code>&lt;Location&gt;</code>.<br>
					</p>
				</details>


				


				
            </article>
        </section>
    </main>

    <footer>
        <p>Desarrollado por Hugo Sánchez Gallardo 2DAW</p>
    </footer>

    <script src="assets/js/scripts.js"></script>
</body>
</html>